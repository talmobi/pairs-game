<html>
<head>
  <title>Pairs-Game</title>

  <style type="text/css">
    body {
      background-color: #222;
    }
    #volumeDiv {
      position: absolute;
    }
  </style>

  <script type="text/javascript" src='./pairs-game.js'></script>

  <!--
  <script type="text/javascript" src="resampler.js"> </script>
  <script type="text/javascript" src="swfobject.js"> </script>
  <script type="text/javascript" src='XAudioServer.js'></script>
  <script type="text/javascript" src='asap.js'></script>
  <script type="text/javascript" src='asapweb.js'></script>
  <script type="text/javascript" src='binaryHttpRequest.js'></script>
  -->

  <script type="text/javascript" src='asap-radio.min.js'></script>

</head>
<body>

  <div id='volumeDiv'>
    <input id='myVolSlider' type="range" min='0' max='100' value='10' step='10' onchange='changeVolume(this.value)'>
  </div>

  <canvas id='game-canvas'>
  </canvas>

  <script type="text/javascript">
    // init the game
    XAudioJSVolume = .1;

    var music = 'ABBUC_25.sap';
    pairsGame.init('game-canvas');
    setTimeout(function() {
      XAudioJSVolume = .1;
      binaryHttpRequest('ABBUC_25.sap', asap.play);
      setTimeout(function() {
        changeVolume(10);
      }, 200);
    }, 1000);

    asap.onPlaybackEnd = function() {
      binaryHttpRequest(music, asap.play);
    };

    function changeVolume(value) {
      document.getElementById('myVolSlider').innerHTML = value;
      XAudioJSVolume = (value / 100);
      console.log("volume changed to: " + (XAudioJSVolume * 100) | 0 + "%");
    }
  </script>

</body>
</html>